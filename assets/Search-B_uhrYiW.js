import{j as y,z as w,r,n as S,k as e,l as c,P as C,B as k}from"./index-BZl3R1Cl.js";import{M as f,C as T,a as P,b as g}from"./3d-card-Ch-0TkcF.js";import{P as R}from"./PageTransition-DMOsFosf.js";/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),I=["Devi Sri Prasad","Thaman S","Sid Sriram","Anirudh","Keeravani"];function $(){const[l,d]=w(),j=l.get("q")||"",[s,m]=r.useState(j),[b,q]=r.useState([]);r.useEffect(()=>{m(l.get("q")||"")},[l]);const o=l.get("genre"),n=t=>{m(t),d(t?{q:t}:{})},{playTrack:v}=S(),[N,h]=r.useState([]),[A,x]=r.useState(!1);r.useEffect(()=>{const a=setTimeout(async()=>{if(!s&&!o){h([]);return}x(!0);try{let i=[];o?i=(await(await fetch(`/api/v1/tracks/search?genre=${encodeURIComponent(o)}`)).json()).tracks||[]:i=await k(s),h(i)}catch(i){console.error(i)}finally{x(!1)}},300);return()=>clearTimeout(a)},[s,o]);const u=N,p=["from-red-600 to-red-900","from-blue-600 to-blue-900","from-green-600 to-green-900","from-yellow-600 to-yellow-900","from-purple-600 to-purple-900","from-pink-600 to-pink-900","from-indigo-600 to-indigo-900","from-teal-600 to-teal-900"];return e.jsx(R,{children:e.jsx("div",{className:"min-h-screen pt-28 px-8 pb-32",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative mb-6",children:[e.jsx(z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:24}),e.jsx("input",{type:"text",placeholder:"Result... (Songs, Artists, Albums)",value:s,onChange:t=>n(t.target.value),className:"w-full bg-white/5 border border-white/10 rounded-full py-4 pl-14 pr-6 text-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-sonic-accent focus:bg-white/10 transition-all shadow-xl",autoFocus:!0})]}),!s&&e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-wrap items-center gap-3 mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sonic-accent text-sm font-bold mr-2",children:[e.jsx(E,{size:16}),e.jsx("span",{children:"TRENDING"})]}),I.map((t,a)=>e.jsx("button",{onClick:()=>n(t),className:"px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-sm text-gray-300 hover:bg-white/10 hover:border-sonic-accent/50 hover:text-white transition-all",children:t},t))]}),e.jsxs("div",{className:"space-y-4",children:[s&&e.jsx("h3",{className:"text-lg font-semibold text-gray-400 mb-4",children:"Top Results"}),u.map((t,a)=>e.jsxs("div",{onClick:()=>v(t),className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors cursor-pointer group",children:[e.jsxs("div",{className:"relative w-16 h-16",children:[e.jsx("img",{src:t.coverUrl,alt:t.title,className:"w-full h-full object-cover rounded-md"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(C,{fill:"white",size:20,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-medium text-lg",children:t.title}),e.jsxs("p",{className:"text-gray-400",children:[t.artist," â€¢ ",t.album]})]}),e.jsxs("div",{className:"text-gray-500 font-mono text-sm",children:[Math.floor(t.duration/60),":",Math.floor(t.duration%60).toString().padStart(2,"0")]})]},t.id)),s&&u.length===0&&e.jsx("div",{className:"text-center py-20 text-gray-500",children:e.jsxs("p",{children:['No results found for "',s,'"']})})]}),!s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(f,{size:20,className:"text-gray-400"}),"Browse Artists"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:b.map((t,a)=>e.jsx(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:a*.05},className:"h-40 w-full cursor-pointer",onClick:()=>n(t),children:e.jsx(T,{className:"inter-var w-full h-full",children:e.jsxs(P,{className:`bg-gradient-to-br ${p[a%p.length]} relative group/card border-white/[0.1] w-full h-full rounded-2xl p-4 border transition-colors flex flex-col justify-between overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover/card:bg-transparent transition-colors"}),e.jsx(g,{translateZ:"30",className:"font-bold text-lg text-white relative z-10 break-words line-clamp-2",children:t}),e.jsx(g,{translateZ:"50",className:"self-end rotate-12 relative z-10 opacity-80",children:e.jsx(f,{size:40,className:"text-white/30"})})]})})},t))})]})]})})})}export{$ as default};
